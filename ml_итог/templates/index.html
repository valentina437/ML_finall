<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SloganGen - –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–ª–æ–≥–∞–Ω–æ–≤</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <header>
            <h1>üéØ SloganGen</h1>
            <p>AI-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∫—Ä–µ–∞—Ç–∏–≤–Ω—ã—Ö —Å–ª–æ–≥–∞–Ω–æ–≤ –¥–ª—è –≤–∞—à–µ–≥–æ –±—Ä–µ–Ω–¥–∞</p>
        </header>

        <main>
            <div class="card">
                <h2>–°–æ–∑–¥–∞–π—Ç–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π —Å–ª–æ–≥–∞–Ω</h2>
                <p class="subtitle">–í–≤–µ–¥–∏—Ç–µ –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ –∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Å—Ç–∏–ª—å</p>

                <div class="input-group">
                    <input type="text" id="keyword" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –∫–æ—Ñ–µ, —Ç–µ—Ö–Ω–∏–∫–∞, —Å–ø–æ—Ä—Ç, –∫—Ä–∞—Å–æ—Ç–∞...">

                    <select id="style">
                        <option value="creative">üé® –ö—Ä–µ–∞—Ç–∏–≤–Ω—ã–π</option>
                        <option value="professional">üíº –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π</option>
                        <option value="funny">üòä –Æ–º–æ—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–π</option>
                    </select>

                    <select id="count">
                        <option value="3">3 —Å–ª–æ–≥–∞–Ω–∞</option>
                        <option value="5" selected>5 —Å–ª–æ–≥–∞–Ω–æ–≤</option>
                        <option value="8">8 —Å–ª–æ–≥–∞–Ω–æ–≤</option>
                    </select>
                </div>

                <button onclick="generateSlogans()" id="generateBtn">
                    <span class="btn-text">üöÄ –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–ª–æ–≥–∞–Ω—ã</span>
                    <div class="btn-loading hidden">
                        <div class="spinner"></div>
                        <span>–ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∏–¥–µ–∏...</span>
                    </div>
                </button>

                <div id="loading" class="loading hidden">
                    <div class="spinner"></div>
                    <p>AI –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫—Ä–µ–∞—Ç–∏–≤–Ω—ã–µ –∏–¥–µ–∏...</p>
                </div>
            </div>

            <div id="results" class="card hidden">
                <div class="results-header">
                    <h3>üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–ª—è "<span id="resultKeyword"></span>"</h3>
                    <div class="results-meta">
                        <span class="style-badge" id="resultStyle"></span>
                        <span class="count-badge" id="resultCount"></span>
                    </div>
                </div>

                <div id="slogansList" class="slogans-list"></div>

                <div class="actions">
                    <button onclick="copyAll()" class="action-btn">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ</button>
                    <button onclick="newSearch()" class="action-btn">üîÑ –ù–æ–≤—ã–π –ø–æ–∏—Å–∫</button>
                    <button onclick="shareResults()" class="action-btn">üì§ –ü–æ–¥–µ–ª–∏—Ç—å—Å—è</button>
                </div>
            </div>

            <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ -->
            <div class="features">
                <div class="feature-card">
                    <h4>üí° –ü—Ä–∏–º–µ—Ä—ã –¥–ª—è –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏—è</h4>
                    <div class="examples">
                        <span class="example-tag" onclick="setKeyword('–∫–æ—Ñ–µ')">–∫–æ—Ñ–µ</span>
                        <span class="example-tag" onclick="setKeyword('—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏')">—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏</span>
                        <span class="example-tag" onclick="setKeyword('—Å–ø–æ—Ä—Ç')">—Å–ø–æ—Ä—Ç</span>
                        <span class="example-tag" onclick="setKeyword('–∫—Ä–∞—Å–æ—Ç–∞')">–∫—Ä–∞—Å–æ—Ç–∞</span>
                        <span class="example-tag" onclick="setKeyword('–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ')">–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ</span>
                        <span class="example-tag" onclick="setKeyword('–µ–¥–∞')">–µ–¥–∞</span>
                    </div>
                </div>

                <div class="feature-card">
                    <h4>üéØ –°–æ–≤–µ—Ç—ã –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é</h4>
                    <ul class="tips">
                        <li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Å–ª–æ–≤–∞</li>
                        <li>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Ä–∞–∑–Ω—ã–µ —Å—Ç–∏–ª–∏</li>
                        <li>–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –ø–æ–Ω—Ä–∞–≤–∏–≤—à–∏–µ—Å—è –≤–∞—Ä–∏–∞–Ω—Ç—ã</li>
                    </ul>
                </div>
            </div>
        </main>
    </div>

    <script>
        async function generateSlogans() {
            const keyword = document.getElementById('keyword').value.trim();
            const style = document.getElementById('style').value;
            const count = document.getElementById('count').value;
            const btn = document.getElementById('generateBtn');
            const loading = document.getElementById('loading');

            if (!keyword) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ');
                return;
            }

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É
            btn.disabled = true;
            loading.classList.remove('hidden');

            try {
                const response = await fetch('/generate', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        keyword: keyword,
                        style: style,
                        count: parseInt(count)
                    })
                });

                const data = await response.json();

                if (data.success) {
                    showResults(data);
                } else {
                    alert('–û—à–∏–±–∫–∞: ' + data.error);
                }

            } catch (error) {
                alert('–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º');
                console.error('Error:', error);
            } finally {
                btn.disabled = false;
                loading.classList.add('hidden');
            }
        }

        function showResults(data) {
            document.getElementById('resultKeyword').textContent = data.keyword;

            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å—Ç–∏–ª—å
            const styleNames = {
                'creative': 'üé® –ö—Ä–µ–∞—Ç–∏–≤–Ω—ã–π',
                'professional': 'üíº –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π',
                'funny': 'üòä –Æ–º–æ—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–π'
            };
            document.getElementById('resultStyle').textContent = styleNames[data.style];
            document.getElementById('resultCount').textContent = data.count + ' —Å–ª–æ–≥–∞–Ω–æ–≤';

            // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º —Å–ª–æ–≥–∞–Ω—ã
            const list = document.getElementById('slogansList');
            list.innerHTML = '';

            data.slogans.forEach((slogan, index) => {
                const sloganDiv = document.createElement('div');
                sloganDiv.className = 'slogan-item';
                sloganDiv.innerHTML = `
                    <div class="slogan-content">
                        <span class="slogan-number">${index + 1}</span>
                        <span class="slogan-text">"${slogan}"</span>
                    </div>
                    <button class="copy-btn" onclick="copyText('${slogan.replace(/'/g, "\\'")}')" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å">
                        üìã
                    </button>
                `;
                list.appendChild(sloganDiv);
            });

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
            document.getElementById('results').classList.remove('hidden');

            // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º
            document.getElementById('results').scrollIntoView({
                behavior: 'smooth'
            });
        }

        function copyText(text) {
            navigator.clipboard.writeText(text).then(() => {
                // –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏
                console.log('–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ:', text);
            });
        }

        function copyAll() {
            const slogans = Array.from(document.querySelectorAll('.slogan-text'))
                .map(el => el.textContent.replace(/"/g, ''));
            const text = slogans.join('\n');
            navigator.clipboard.writeText(text).then(() => {
                alert('–í—Å–µ —Å–ª–æ–≥–∞–Ω—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!');
            });
        }

        function shareResults() {
            const keyword = document.getElementById('resultKeyword').textContent;
            const slogans = Array.from(document.querySelectorAll('.slogan-text'))
                .map(el => el.textContent.replace(/"/g, ''));
            const text = `–°–ª–æ–≥–∞–Ω—ã –¥–ª—è "${keyword}":\n\n${slogans.join('\n')}`;

            if (navigator.share) {
                navigator.share({
                    title: '–ú–æ–∏ —Å–ª–æ–≥–∞–Ω—ã –æ—Ç SloganGen',
                    text: text
                });
            } else {
                copyAll();
            }
        }

        function newSearch() {
            document.getElementById('keyword').value = '';
            document.getElementById('results').classList.add('hidden');
            document.getElementById('keyword').focus();
        }

        function setKeyword(word) {
            document.getElementById('keyword').value = word;
            document.getElementById('keyword').focus();
        }

        // Enter –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
        document.getElementById('keyword').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                generateSlogans();
            }
        });
    </script>
</body>
</html>